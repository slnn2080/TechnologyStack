### Linux文件系统
- Linux系统环境下的文件系统与Windows有很大区别。 在Windows中，每一个盘符下是一个独立的文件系统，硬盘有多少个分区就有多少个文件系统。

- Linux系统中不管创建了多少个硬盘分区都只有一个文件系统。*整个文件系统的根目录是“/”*，从“/”出发可以找到Linux系统中的所有目录和文件。


> 用户的家目录
- Linux是一个多用户系统，每个登录到系统的用户都需要有一个自己专属的目录保存自己私有的文件。系统当然看到了这个需求，所以每创建一个普通用户，系统就会在*/home*目录下创建一个和用户同名的目录作为这个用户的家目录。

- 比如：创建一个名为tom的用户，它的家目录就是/home/tom

- 可以使用“~”代表用户的家目录。
- 特殊的是作为系统的超级管理员，root用户的家目录是/root目录

> cd /
- 我们进入的是 Macintosh HD

> cd ~ 
- 我们进入的是 ユーザ - *LIUCHUNSHAN*


> 目录介绍
- /bin
- bin是binary的缩写，这个目录存放着最经常使用的命令。

- /boot
- 这里存放的是启动Linux时用到的引导程序文件。

- /dev	
- device(设备)的缩写，该目录下存放的是Linux的外部设备。

- /etc	
- 存放系统和第三方应用程序的配置文件。

- /opt
- 存放安装第三方应用程序时使用的压缩包文件

- /home
- 存放普通用户家目录。

- /lib和/lib64
- 系统开机所需要最基本的动态连接共享库。

- /media	
- 挂载Linux系统会自动识别的设备，例如U盘、光驱等。

- /mnt	
- 专门用于挂载操作的目录。

- /proc
- 这个目录是一个虚拟的目录，它是系统内存的映射。

- /root
- 超级管理员root用户的家目录。

- /run
- 存放进程产生的临时文件，关机重启后会消失。

- /sbin
- s是Super User的意思，这里存放的是系统管理员使用的系统管理程序。

- /srv	
- service缩写，该目录存放一些服务启动之后需要提取的数据。

- /sys	
- 该目录下安装了2.6内核中新出现的一个文件系统sysfs。

- /tmp	
- 存放临时文件。

- /usr	
- 应用程序的默认安装目录，类似于Windows下的program files目录。

- /var	
- 存放经常变化的内容，例如日志文件。

----------------

### 文件和目录相关命令
> 快捷键
- Ctrl+l	      清屏
  Ctrl+c	      强制终止程序
  Ctrl+Insert	  复制
  Shift+Insert	粘贴
  Ctrl+s	      锁屏
  Ctrl+q	      解除锁屏
  tab	          自动补全


> 创建目录 
> mkdir 路径     -- 单层
> mkdir -p 路径  -- 多层

- 创建单层目录：mkdir 新目录的路径
- mkdir aaa/bbb/ccc
<!-- 
  其中aaa/bbb是存在的目录， 要创建的仅仅是ccc
 -->

- 创建多层目录：mkdir -p 新目录的路径
- mkdir -p aaa/bbb/ccc/ddd
<!-- 
  其中bbb/ccc/ddd都不存在，
  现在想一次性把这些目录都建出来
 -->


> 进入目录 cd


> 查看目录内容 ls (list)
- 作用：
- 列出目录中的内容，这里所说的目录可以是当前目录也可以是其他目录（需要指定路径）。

- 参数:
- -A 显示目录内容时把隐藏资源也显示出来
- -l 以详细信息形式显示资源
- -R 递归查看目录内容
<!-- 
  命令的参数既可以单独使用也可以组合使用。同时ls -l可以简写为ll。
 -->


> 查看当前所在的目录 pwd (print work directory)

> 新建文件 touch
- 创建空文件
- touch 新建文件的路径


> 复制 cp (copy)
- 复制文件或目录

- 复制文件：
- cp 被复制的文件的路径 目标目录的路径

- 复制目录：
- cp -r 被复制的目录的路径 目标目录的路径


> 移动 mv (move)
- 移动文件或目录
- mv 被移动的文件或目录的路径 目标目录
<!-- 
  将目录或文件在当前位置移动可以起到重命名的作用
 -->


> 删除 rm (remove)
- 删除目录或文件

- 删除文件：
- rm 被删除的文件的路径

- 强制删除文件：
- rm -f 被删除的文件的路径

- 递归删除目录：
- rm -r 被删除的目录的路径

- 强制删除目录：
- rm -rf 被删除的目录的路径


> vim
- 在命令行环境下编辑文本文件
<!-- 
  在命令行模式下没有鼠标，所以刚开始使用的时候会觉得非常不习惯。但是慢慢的熟练之后你会发现，不需要鼠标全部用键盘就可以操作效率很高
 -->  

> 三种模式：
- 1. 一般模式: 通过按键控制 vim 工作
  按 i l a A o 等 键位

- 2. 编辑模式: 可以自由输入
  按 ? : / 等 键位

- 3. 指令模式: 通过执行指令完成一些特殊的操作
  按 enter 键位 执行指令


> 打开一个文件
- vim content.txt
- 如果文件不存在 *那么就是新建一个文件*
<!-- 
  // 进入的画面 为一般模式 一般模式的模版
  ~
  ~
  ~
  ~
  ~
  ~
 -->


> 回到一般模式 esc

> 回到一般模式后 输入 : 
- 会进去指令模式


> 进入编辑模式
- 进入编辑模式有很多种方法

> 方式1:
- 按下 i 键


> (回到一般模式的时候 esc )输入 : 
- 光标会出现在窗口的底部

> 显示行号 set nu
- 当我们回到 一般模式的时候 输入 : 后 再输入 set nu 会显示行号

> 保存文件 :w
- 回到一般模式的之后 输入 w

> 退出 q
- 退出vim

> 保存退出 wq

> 不保存直接退出就使用 q!


> 上下左右移动光标
- 方法一:
- 上下左右键

- 方法二:
- hjkl
- ←↓↑→

> 前往指定行
- 在 按esc后回到一般模式后 按下面的命令(英文输入法的状态下)

> 第一行: gg
- 将光标定位到第一行开头的位置。此时屏幕上并不会显示你输入了什么，需要你自己心里面知道。

> 最后一行: G
- 将光标定位到最后一行开头的位置。

> 指定行号
- 假设我们要去第12行，那么依次输入“1”、“2”、“G”即可。


> 改
- 这里我们说的是在一般模式下通过按键来编辑文件，并不是进入编辑模式。

> dd	
- 删除光标所在的行

> d5d	
- 从光标所在行开始，向下连续删除5行（包括光标所在行）

> u	
- 撤销刚才的操作

> Ctrl+r	
- 重做刚才撤销的操作

> yy	
- 复制光标所在的行

> p	
- 将当前复制的行粘贴到光标所在位置的下一行

> y3y	
- 从光标所在行开始，向下连续复制3行（包括光标所在行）

> r	
- 替换光标所在位置的一个字符
- 第一步：按一下r键
- 第二步：输入新的字符


> 进入编辑模式的方式
- i
- 不动，就在当前位置，开始输入

- I
- 移动到行的开头，开始输入

- a
- 光标向后移动一格，然后开始输入

- A
- 光标移动到行的末尾，然后开始输入

- o
- 先在光标所在行的下面插入空行
- 然后把光标移动到空行的开头，再开始输入


> 搜索
> 进入指令模式下 输入 /
- 进入专门用于搜索关键词的指令模式
- 然后输入关键词
- 回车执行搜索
- 遍历匹配内容
  - 输入n向下找
  - 输入N向上找

- 取消高亮显示 使用 :noh 指令即可取消高亮


> 替换 %s/被替换内容/新内容
- 在: 的状态下输入 %s/被替换内容/新内容 /g
- /g 全局匹配

----------------

### 文件和目录相关命令 cat

> cat 文件
- 显示文件全部内容
- 适用场景：较短小的文件


> less 文件
- 空格	
- 向下滚动一屏

- b	
- 向上滚动一屏

- 回车	
- 向下滚动一行

- q	
- 退出
- / 关键词	
- 搜索
- n向下找
- N向上找

- =	
- 显示详细的文件信息


> tail
- 显示文件末尾的部分内容

- 基本用法:
- tail -n 5 文件
- 查看文件末尾5行的内容：

- 高级用法: 使用 *tail -F 打开要监视的文件*
- tail -F 文件
- 使用-F参数实时查看文件末尾新增的内容
- Ctrl+c 退出实时监控。



> find
- 查找文件或目录

- 用法:
- find 查找范围 参数 表达式
- find /root -name "*.txt"
- /root: 查找范围
- -name: 根据名称查找
- "查找内容的表达式"

----------------

### tar包解压命令
- 在Linux系统环境中，很多程序安装包都是以tar包的形式提供下载的：

> tar包解压命令  tar -zxvf tar包路径
- 默认解压到当前目录下，如果当前目录下有同名的目录或文件会被直接覆盖，没有任何提示，这一点请大家注意。

- -z	
- 用 gzip 对存档压缩或解压

- -x	
  解压

- -v	
  详细显示处理的文件

- -f	
  指定存档或设备 (缺省为 /dev/rmt0)

----------------

### 进程相关命令

> ps (process status)
- 查看当前正在运行的进程

- 常用参数组合：ps -ef
- -e参数：
- 对应单词entire，表示全部。具体指显示系统中全部的进程信息。

- -f参数：
- 对应单词full-formate，表示完整格式。

- UID	
  进程的用户信息

- PID	
  进程id。由系统分配，不会重复。

- PPID	
  父进程的id。父进程和子进程的关系是：父进程启动了子进程。

- CMD	
  当前进程所对应的程序。

- C	
  用整数表示的CPU使用率

- STIME	
  进程启动时间

- TTY	
  进程所在终端。所谓终端就是用户输入命令的操作界面。

- TIME	
  进程所占用的CPU时间


> 分屏查看进程信息 ps -ef | less
- 全部进程的信息太多了，一屏无法全部显示，所以我们希望可以分屏显示并由我们来控制翻页。为了达到这个目标，我们可以使用管道符号将ps -ef命令的输出数据传送给less命令。

--- 

> kill
- 杀死进程
- kill命令本质上是给进程发送信号。

- 使用kill命令结束火狐浏览器进程
- kill -s kill 3325 或者
- kill -9 3325


> top
- 实时查看系统运行情况和健康状态。

----------------

### 辅助命令

> echo
- 用来打印环境变量的值

- 在Linux系统中通过$来引用环境变量
- 比如: $PATH

- 使用echo输出环境变量
- echo $PATH

> \
- 如果一个命令特别长，那么可以使用反斜杠表示到下一行继续输入


> curl (client url)
- 通过命令给服务器发送请求

- curl 请求地址

- 参数
- -X 指定请求方式

- curl -X POST [请求地址]

----------------

### 字符串命令

> basename 路径
- basename /aa/bb/cc/dd --> dd
- 返回路径字符串中的*资源*（文件或目录本身）部分
- 如果指定了后缀，basename会帮我们把后缀部分也去掉

> dirname 路径
- 返回路径字符串中的*目录*部分
- dirname /aa/bb/cc/dds

----------------

### Linux系统的权限控制
> 权限
- 权限=权力+限制。对任何计算机系统来说，我们都不能允许用户在系统中为所欲为。我们必须知道“谁在什么时候对什么资源做了什么操作”，这就是系统日志要记录的内容。不仅如此，系统还必须有能力禁止用户操作没有访问权限的资源。

> 基础命令
> groupadd 组名
- 创建用户组

> id 用户名
- 返回用户信息，检查用户是否存在

> useradd -g 组名 用户名
- 创建用户，同时指定所属用户组

> passwd 用户名	
- 给用户账号设置密码


> 文件权限信息说明
- 权限信息共分三组，每组三位：

- rwx r-x r-x
- rwx: 文件所属用户的访问权限
- r-x: 文件所属用户组的访问权限
- r-x: 其他人的访问权限

- r：读（read）
- 读文件：查看文件内容

- w：写（write）
- 写文件：向文件中写入新内容
- 写目录：在目录里面增删内容

- x：执行（execute）
- 执行文件：把文件当作可执行文件来运行
- 执行目录：使用cd命令进入目录

- - 无权限
- 由于每一位要么有权限要么没有权限，所以天然可以使用二进制来表示权限信息：
- 1：有
- 0：无

- 权限的符号表示	权限的二进制表示	权限的十进制表示
- rwx r-x r-x	  111 101 101	    7 5 5
- rw- r-- r--	  110 100 100	    6 4 4


> chmod 文件: 修改权限信息
> chown 文件: 修改文件或目录的所属主
> chgrp 文件: 修改文件或目录的所属组

- 下面来演示一下chmod命令：

- 修改前:
- content: rw- r-- r--

- 修改权限信息
- chmod +x fruit/content

- 修改后：
- content: rwx r-x r-x

- 再次修改权限信息(*再次操作就是移除权限*)
- chmod +x fruit/content

> 普通用户提升权限
- 在公司参与开发的过程中，通常我们不会拿到服务器系统的 root 权限，而是普通用户权限。但是普通用户很多操作无法执行。

- 解决方案
- 将需要提权的普通用户加入到/etc/sudoers文件中
<!-- 
  91 ## Allow root to run any commands anywhere 
  92 root    ALL=(ALL)       ALL
  93 luozhixiang ALL=(ALL)   ALL
 -->

- 不需要重启系统，我们再次测试提权：
- sudo mkdir aaa

- 再修改/etc/sudoers文件
- luozhixiang ALL=(ALL)   NOPASSWD:ALL

- 这样再使用sudo命令就不需要输入密码了

----------------

### Linux系统提供的Shell解析器
- 其中最常用的是 /bin/sh 和 /bin/bash

> bash 和 sh 的关系
- sh是bash的软链接

> Linux默认的解析器是bash

> Shell语法总述
- 变量 + 运算符 + 变量 = 表达式 -> 流程控制

> Shell编程HelloWorld
- 1. 创建脚本文件
- 通常以.sh作为扩展名

- 2. 脚本内容
- 第一行指定当前脚本的解析器：#!/bin/bash

- 实现具体功能：
- echo "hello world"


> Shell脚本的运行方式
> 1. source 
- 在当前进程运行

> 2. . 
- 在当前进程运行
- 其中“.”是source的另一种写法。

> 3. sh 
- 新建子进程运行

> 4. bash
- 新建子进程运行

> 5. chmod +x后直接运行
- 新建子进程运行



> 系统预定义变量
- 常用系统变量包括：$USER、$HOME、$PWD、$SHELL等，可以使用echo命令输出它们的值。


> 自定义变量
- 定义变量
- USER_NAME=tom

